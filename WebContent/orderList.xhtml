<!DOCTYPE html [
    <!ENTITY nbsp "&#160;"> 
    <!ENTITY copy "&#169;">
    <!ENTITY euro "&#8364;"> 
]>
<ui:composition template="/WEB-INF/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	<ui:define name="title">
        Orders | Agave Shop - SIW 2015
    </ui:define>

	<ui:define name="content">
		<h:form>
			<ul class="nav nav-tabs nav-justified">
				<li role="presentation" class="active"><a href="#" id="closedOrderTab">Closed Orders</a></li>
				<li role="presentation"><a href="#" id="evadedOrderTab">Evaded Orders</a></li>
			</ul>
			<br></br>
			<br></br>
			<div class="row" id="closedOrders">
				<div class="panel panel-default">
					<c:forEach var="order" items="#{orderController.getOrders()}">
						<div class="panel panel-default">

								<div class="col-sm-12 col-lg-12 col-md-12">
									<ul class="list-inline">
										<li><div>Ordine: ${order.id}</div></li>
										<li><div>Effettuato il ${order.creationTime}</div></li>
										<li><div>${order.evasionTime}</div></li>
										<li><div>
												<h:commandLink action="#{orderController.findOrder}"
													value="See the order details">
													<f:param name="id" value="#{order.id}" />
												</h:commandLink>
											</div></li>
									</ul>
							</div>
							<div class="panel-body">

								<div class="row">
									<c:forEach var="orderLine" items="#{order.getOrderLines()}">
										<div class="col-xs-6 col-md-3">
											<h:commandLink action="#{productController.findProduct}"
												styleClass="thumbnail">
												<f:param name="id" value="#{orderLine.product.id}" />
												<h:graphicImage
													value="uploads/#{orderLine.product.picturePath}"
													alt="#{orderLine.product.name}"></h:graphicImage>
												<p align="center">#{orderLine.product.name}</p>
											</h:commandLink>
										</div>
									</c:forEach>
								</div>
							</div>
						</div>

					</c:forEach>
				</div>
			</div>
			
			<div id="evadedOrders">pollo</div>
		</h:form>
	</ui:define>
</ui:composition>